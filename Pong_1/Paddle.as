package  {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.KeyboardEvent;	import flash.display.DisplayObject;	import flash.geom.Point;	public class Paddle extends MovieClip{		private var speed:int;		private var dirY:int =0;		private var theStage:DisplayObject		private var stageH:int;		private var stageW:int;		private var downKeyCode:int;		private var upKeyCode:int;				private var paddledown:Boolean;		private var paddleup:Boolean;				private var normal:Point;		private var bounce_angle:Number = 15;				public function Paddle(theStage:DisplayObject,posX:int, posY:int, w:int, h:int, normal:Point, downKeyCode:int=83, upKeyCode:int=87, speed:int=10) {			// constructor code			this.speed = speed;			this.x = posX;			this.y = posY;			this.stageH = h;			this.stageW = w;			this.paddledown = false;			this.paddleup = false;			this.downKeyCode = downKeyCode;			this.upKeyCode = upKeyCode;			this.normal = normal;			this.theStage = theStage;						this.theStage.addEventListener(KeyboardEvent.KEY_DOWN, keydown);			this.theStage.addEventListener(KeyboardEvent.KEY_UP, keyup);			this.addEventListener(Event.ENTER_FRAME, checkLoop);						}		public function keydown(keyEvent:KeyboardEvent) {			// w - 87			if (keyEvent.keyCode==this.upKeyCode) {				this.paddleup = true;				//this.dirY = this.speed * -1;							}			//s - 83			if (keyEvent.keyCode==this.downKeyCode) {				this.paddledown = true;				//this.dirY = this.speed;			}		}		public function keyup(keyEvent:KeyboardEvent):void{			if (keyEvent.keyCode == this.downKeyCode) {				this.paddledown = false;			}			if (keyEvent.keyCode == this.upKeyCode) {				this.paddleup = false;			}		}		private function checkLoop(e:Event):void {			var halfHeight:Number = this.height / 2.0;			this.dirY = 0;									// cal paddle movement			if (this.paddledown) {				this.dirY += this.speed;			}			if (this.paddleup) {				this.dirY += this.speed * -1;			}						// move paddle			if(this.y+this.dirY < 0) {				this.y = 0;				this.dirY = 0;			} else if (this.y+this.dirY > this.stageH-this.height){				this.y = this.stageH - this.height;				this.dirY = 0;			} else {				this.y += this.dirY;			}					}	}	}